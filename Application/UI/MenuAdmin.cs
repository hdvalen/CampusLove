/*using System.Threading.Tasks;
using CampusLove.Domain.Entities;
using CampusLove.Domain.Ports;
using CampusLove.Infrastructure.Repositories;

namespace CampusLove.Application.UI
{
    public class MenuAdministrador
    {
        private Usuarios _Administrador;
        private readonly IAdministrador _AdminRepository;
        private readonly ICoincidenciaRepository _coincidenciaRepository;
        private readonly VerOtrosPerfiles _verOtrosPerfiles;

        public MenuAdministrador(Usuarios _Administrador, IAdministrador _AdminRepository, ICoincidenciaRepository coincidenciaRepository)
        {
            _Administrador = IAdministrador;
            _AdminRepository = AdminRepository;
            _coincidenciaRepository = coincidenciaRepository;
            _verOtrosPerfiles = new VerOtrosPerfiles(_Administrador, AdminRepository, _coincidenciaRepository);
        }
        public async Task MostrarMenu()
        {
            bool salir = false;
            while (!salir)
            {
                Console.Clear();
                Console.ForegroundColor = ConsoleColor.Cyan;
                Console.WriteLine("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
                Console.WriteLine("‚ïë                  ‚ù§Ô∏è CAMPUS LOVE ‚ù§Ô∏è                    ‚ïë");
                Console.WriteLine("‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£");
                Console.ForegroundColor = ConsoleColor.Yellow;
                Console.WriteLine("‚ïë üìù Administrador                                       ‚ïë");
                Console.WriteLine("‚ïë   1. Ver perfiles Administrador                        ‚ïë");
                Console.WriteLine("‚ïë   2. Editar perfiles Administrador                     ‚ïë");
                Console.WriteLine("‚ïë   3. Eliminar Administrador                            ‚ïë");
                Console.WriteLine("‚ïë   4. Ver perfiles registrados                          ‚ïë");
                Console.WriteLine("‚ïë   0. Volver al men√∫ principal                          ‚ïë");
                Console.WriteLine("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù");
                Console.ResetColor();
                Console.Write("\nSeleccione una opci√≥n: ");
                string? opcion = Console.ReadLine();

                switch (opcion)
                {
                    case "1":
                        VerAdmin();
                        break;
                    case "2":
                        EditarAdmin();
                        break;
                    case "3":
                        EliminarAdmin();
                        break;
                    case "4":
                        VerPerfilesRegistrados();
                        break;
                    case "0":
                        salir = true;
                        break;
                    default:
                        Console.WriteLine("‚ùå Opci√≥n no v√°lida. Presione una tecla para continuar...");
                        Console.ReadKey();
                        break;
                }
            }
        }

        private void VerMiPerfil()
        {
            Console.Clear();
            Console.ForegroundColor = ConsoleColor.Cyan;
            Console.WriteLine("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
            Console.WriteLine("‚ïë                  ‚ù§Ô∏è CAMPUS LOVE ‚ù§Ô∏è                    ‚ïë");
            Console.WriteLine("‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£");
            Console.ResetColor();

            Console.WriteLine("üßæ Mi Perfil:");
            Console.WriteLine($"üìõ Nombre: {_Administrador.nombre}");
            Console.WriteLine($"üë§ Login: {_Administrador.login}");
            Console.WriteLine($"üéÇ Edad: {_Administrador.edad}");

            Console.WriteLine("\nPresione una tecla para volver al men√∫...");
            Console.ReadKey();
        }

        private void EditarPerfil()
        {
            Console.Clear();
            Console.WriteLine("‚úèÔ∏è Editar Perfil");

            Console.Write($"Nuevo nombre (actual: {_Administrador.nombre}): ");
            string? nuevoNombre = Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(nuevoNombre))
                _Administrador.nombre = nuevoNombre;

            Console.Write($"Nueva frase de perfil (actual: {_Administrador.FrasePerfil}): ");
            string? nuevaFrase = Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(nuevaFrase))
                _Administrador.FrasePerfil = nuevaFrase;

            Console.Write($"Nueva edad (actual: {_Administrador.edad}): ");
            string? nuevaEdad = Console.ReadLine();
            if (int.TryParse(nuevaEdad, out int edad) && edad > 0)
                _Administrador.edad = edad;

            // Puedes agregar edici√≥n de carrera y g√©nero si lo deseas

            _AdminRepository.UpdateAsync(_Administrador).Wait();

            Console.WriteLine("‚úÖ Perfil actualizado. Presione una tecla para continuar...");
            Console.ReadKey();
        }

        private void EliminarPerfil()
        {
            Console.WriteLine("‚ö†Ô∏è ¬øEst√°s seguro de que quieres eliminar tu perfil? (s/n)");
            string confirmacion = Console.ReadLine() ?? "n";
            if (confirmacion.ToLower() == "s")
            {
                IAdminRepository.DeleteAsync(_Administrador.id).Wait();
                Console.WriteLine("üóëÔ∏è Perfil eliminado exitosamente. Presione una tecla para continuar...");
                Console.ReadKey();
            }
            else
            {
                Console.WriteLine("‚ùå Eliminaci√≥n cancelada. Presione una tecla para continuar...");
                Console.ReadKey();
            }
        }

        private void VerMatches()
        {
            Console.Clear();
            Console.WriteLine("üë• Matches:");

            var matches = _coincidenciaRepository.GetAllAsync().Result;

            // Filtrar matches donde al menos un usuario es el actual y el otro no es nulo
            var matchesFiltrados = matches.Where(match =>
                (match.id_usuario1 != null && match.id_usuario1.id != _usuarioActual.id) ||
                (match.id_usuario2 != null && match.id_usuario2.id != _usuarioActual.id)
            ).ToList();

            if (!matchesFiltrados.Any())
            {
                Console.WriteLine("No tienes matches a√∫n.");
            }
            else
            {
                foreach (var match in matchesFiltrados)
                {
                    Usuarios? usuarioMostrar = null;

                    if (match.id_usuario1 != null && match.id_usuario1.id != _usuarioActual.id)
                        usuarioMostrar = match.id_usuario1;
                    else if (match.id_usuario2 != null && match.id_usuario2.id != _usuarioActual.id)
                        usuarioMostrar = match.id_usuario2;

                    if (usuarioMostrar != null)
                    {
                        Console.WriteLine($"üìõ Nombre: {usuarioMostrar.nombre}");
                        Console.WriteLine($"üë§ Login: {usuarioMostrar.login}");
                        Console.WriteLine($"üéÇ Edad: {usuarioMostrar.edad}");
                        Console.WriteLine($"üìù Frase de perfil: {usuarioMostrar.FrasePerfil}");
                        Console.WriteLine($"üéì Carrera: {usuarioMostrar.idCarrera?.Nombre}");
                        Console.WriteLine($"‚ößÔ∏è G√©nero: {usuarioMostrar.idGenero?.Nombre}");
                        Console.WriteLine("-----------------------------------------------------");
                    }
                    else
                    {
                        Console.WriteLine("‚ö†Ô∏è Informaci√≥n de usuario no disponible para este match.");
                        Console.WriteLine("-----------------------------------------------------");
                    }
                }
            }

            Console.WriteLine("\nPresione una tecla para volver al men√∫...");
            Console.ReadKey();
        }


    }

    internal interface IAdministrador
    {
        object UpdateAsync(Usuarios administrador);
    }
}*/


using System;
using System.Collections.Generic;
using CampusLove.Domain.Entities;
using CampusLove.Infrastructure.Repositories;

namespace CampusLove.UI.Console
{
    public class MenuAdministrador
    {
        private static ConsoleColor colorTitulo = ConsoleColor.DarkBlue;
        private static ConsoleColor colorBorde = ConsoleColor.Blue;
        private static ConsoleColor colorOpcion = ConsoleColor.Cyan;
        private static ConsoleColor colorMensaje = ConsoleColor.Green;
        private static ConsoleColor colorError = ConsoleColor.Red;
        private static ConsoleColor colorDato = ConsoleColor.Yellow;
        
        private readonly AdministradorRepository _adminRepo;
        
        // Administrador actual (el que inici√≥ sesi√≥n)
        private Administrador _adminActual;
        
        public MenuAdministrador(string conexionString, Administrador adminActual)
        {
            _adminRepo = new AdministradorRepository(conexionString);
            _adminActual = adminActual;
        }
        
        public void MostrarMenu()
        {
            bool salir = false;
            
            while (!salir)
            {
                System.Console.Clear();
                
                System.Console.ForegroundColor = ConsoleColor.Cyan;
                System.Console.WriteLine("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
                System.Console.WriteLine("‚ïë                  ‚ù§Ô∏è CAMPUS LOVE ‚ù§Ô∏è                    ‚ïë");
                System.Console.WriteLine("‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£");
                System.Console.ForegroundColor = ConsoleColor.Yellow;
                System.Console.WriteLine("‚ïë üìù Administrador                                       ‚ïë");
                System.Console.WriteLine("‚ïë   1. Ver perfiles Administrador                        ‚ïë");
                System.Console.WriteLine("‚ïë   2. Editar perfiles Administrador                     ‚ïë");
                System.Console.WriteLine("‚ïë   3. Eliminar Administrador                            ‚ïë");
                System.Console.WriteLine("‚ïë   4. Ver perfiles registrados                          ‚ïë");
                System.Console.WriteLine("‚ïë   0. Volver al men√∫ principal                          ‚ïë");
                System.Console.WriteLine("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù");
                System.Console.ResetColor();
                System.Console.Write("\nSeleccione una opci√≥n: ");
                string? opcion = System.Console.ReadLine();
                
                MostrarBordeInferior();
                
                MostrarInfoAdministrador();
                
                System.Console.ForegroundColor = ConsoleColor.White;
                System.Console.Write("\n  Selecciona una opci√≥n: ");
                string? opcion = System.Console.ReadLine();
                
                switch (opcion)
                {
                    case "1":
                        VerPerfilesAdministrador();
                        break;
                    case "2":
                        EditarPerfilAdministrador();
                        break;
                    case "3":
                        EliminarAdministrador();
                        break;
                    case "4":
                        VerPerfilesRegistrados();
                        break;
                    case "0":
                        salir = true;
                        break;
                    default:
                        MostrarMensajeError("Opci√≥n no v√°lida. Intenta de nuevo.");
                        break;
                }
            }
        }
        
        private void MostrarTitulo()
        {
            System.Console.ForegroundColor = colorBorde;
            System.Console.WriteLine("\n  ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
            System.Console.ForegroundColor = colorTitulo;
            System.Console.WriteLine("  ‚ïë              PANEL DE ADMINISTRADOR                  ‚ïë");
            System.Console.ForegroundColor = colorBorde;
            System.Console.WriteLine("  ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£");
        }
        private void MostrarBordeInferior()
        {
            System.Console.ForegroundColor = colorBorde;
            System.Console.WriteLine("  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù");
        }
        
        private void MostrarInfoAdministrador()
        {
            System.Console.ForegroundColor = colorDato;
            System.Console.WriteLine($"\n  Administrador: {_adminActual.Nombre} | Nivel: {_adminActual.NivelAcceso} | √öltimo acceso: {_adminActual.UltimoAcceso}");
        }
        
        private void MostrarMensajeExito(string mensaje)
        {
            System.Console.ForegroundColor = colorMensaje;
            System.Console.WriteLine($"\n  {mensaje}");
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.WriteLine("\n  Presiona cualquier tecla para continuar...");
            System.Console.ReadKey();
        }
        
        private void MostrarMensajeError(string mensaje)
        {
            System.Console.ForegroundColor = colorError;
            System.Console.WriteLine($"\n  {mensaje}");
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.WriteLine("\n  Presiona cualquier tecla para continuar...");
            System.Console.ReadKey();
        }
        
        private void VerPerfilesAdministrador()
        {
            System.Console.Clear();
            MostrarTitulo();
            
            var administradores = _adminRepo.ObtenerTodosAdministradores();
            
            if (administradores.Count == 0)
            {
                System.Console.ForegroundColor = colorMensaje;
                System.Console.WriteLine("\n  No hay administradores registrados.");
            }
            else
            {
                System.Console.ForegroundColor = colorDato;
                System.Console.WriteLine("\n  LISTA DE ADMINISTRADORES");
                System.Console.WriteLine("\n  ID | Nombre | Usuario | Correo | Nivel | Estado");
                System.Console.WriteLine("  ------------------------------------------------");
                
                foreach (var admin in administradores)
                {
                    string estado = admin.Activo ? "Activo" : "Inactivo";
                    
                    if (admin.Id == _adminActual.Id)
                    {
                        System.Console.ForegroundColor = ConsoleColor.Green;
                    }
                    else
                    {
                        System.Console.ForegroundColor = ConsoleColor.White;
                    }
                    
                    System.Console.WriteLine($"  {admin.Id} | {admin.Nombre} | {admin.Usuario} | {admin.Correo} | {admin.NivelAcceso} | {estado}");
                }
            }
            
            MostrarBordeInferior();
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.WriteLine("\n  Presiona cualquier tecla para volver...");
            System.Console.ReadKey();
        }
        
        // editar perfil de administrador
        private void EditarPerfilAdministrador()
        {
            System.Console.Clear();
            MostrarTitulo();
            
            if (_adminActual.NivelAcceso < 2)
            {
                MostrarMensajeError("No tienes permisos suficientes para editar perfiles de administrador.");
                return;
            }
            
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.Write("\n  Ingresa el ID del administrador a editar: ");
            if (!int.TryParse(System.Console.ReadLine(), out int adminId))
            {
                MostrarMensajeError("ID no v√°lido.");
                return;
            }
            
            var admin = _adminRepo.ObtenerAdministradorPorId(adminId);
            
            if (admin == null)
            {
                MostrarMensajeError("Administrador no encontrado.");
                return;
            }
            
            if (admin.NivelAcceso > _adminActual.NivelAcceso)
            {
                MostrarMensajeError("No puedes editar a un administrador de nivel superior.");
                return;
            }

            System.Console.ForegroundColor = colorDato;
            System.Console.WriteLine("\n  DATOS ACTUALES:");
            System.Console.WriteLine($"  ID: {admin.Id}");
            System.Console.WriteLine($"  Nombre: {admin.Nombre}");
            System.Console.WriteLine($"  Usuario: {admin.Usuario}");
            System.Console.WriteLine($"  Correo: {admin.Correo}");
            System.Console.WriteLine($"  Nivel de acceso: {admin.NivelAcceso}");
            System.Console.WriteLine($"  Estado: {(admin.Activo ? "Activo" : "Inactivo")}");
            
            
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.WriteLine("\n  NUEVOS DATOS (deja en blanco para mantener el valor actual):");
            
            System.Console.Write("  Nombre: ");
            string nombre = System.Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(nombre))
            {
                admin.Nombre = nombre;
            }
            
            System.Console.Write("  Usuario: ");
            string usuario = System.Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(usuario))
            {
                admin.Usuario = usuario;
            }
            
            System.Console.Write("  Correo: ");
            string correo = System.Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(correo))
            {
                admin.Correo = correo;
            }
            
            System.Console.Write("  Nivel de acceso (1-3): ");
            string nivelStr = System.Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(nivelStr) && int.TryParse(nivelStr, out int nivel))
            {
                if (nivel > _adminActual.NivelAcceso)
                {
                    MostrarMensajeError("No puedes asignar un nivel superior al tuyo.");
                    return;
                }
                
                admin.NivelAcceso = nivel;
            }
            
            System.Console.Write("  Estado (A: Activo, I: Inactivo): ");
            string estadoStr = System.Console.ReadLine();
            if (!string.IsNullOrWhiteSpace(estadoStr))
            {
                admin.Activo = estadoStr.ToUpper() == "A";
            }
            
            System.Console.Write("  ¬øCambiar contrase√±a? (S/N): ");
            string cambiarPass = System.Console.ReadLine();
            if (cambiarPass.ToUpper() == "S")
            {
                System.Console.Write("  Nueva contrase√±a: ");
                string nuevaPass = System.Console.ReadLine();
                if (!string.IsNullOrWhiteSpace(nuevaPass))
                {
                   
                    bool resultadoPass = _adminRepo.CambiarContrasena(admin.Id, nuevaPass);
                    if (!resultadoPass)
                    {
                        MostrarMensajeError("Error al cambiar la contrase√±a.");
                    }
                }
            }
            
            bool resultado = _adminRepo.ActualizarAdministrador(admin);
            
            if (resultado)
            {
                MostrarMensajeExito("Administrador actualizado con √©xito.");
                
                if (admin.Id == _adminActual.Id)
                {
                    _adminActual = admin;
                }
            }
            else
            {
                MostrarMensajeError("Error al actualizar el administrador.");
            }
        }
        
        private void EliminarAdministrador()
        {
            System.Console.Clear();
            MostrarTitulo();
            
            if (_adminActual.NivelAcceso < 3)
            {
                MostrarMensajeError("No tienes permisos suficientes para eliminar administradores.");
                return;
            }
            
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.Write("\n  Ingresa el ID del administrador a eliminar: ");
            if (!int.TryParse(System.Console.ReadLine(), out int adminId))
            {
                MostrarMensajeError("ID no v√°lido.");
                return;
            }
            
            if (adminId == _adminActual.Id)
            {
                MostrarMensajeError("No puedes eliminarte a ti mismo.");
                return;
            }
            
            var admin = _adminRepo.ObtenerAdministradorPorId(adminId);
            
            if (admin == null)
            {
                MostrarMensajeError("Administrador no encontrado.");
                return;
            }
            
            if (admin.NivelAcceso > _adminActual.NivelAcceso)
            {
                MostrarMensajeError("No puedes eliminar a un administrador de nivel superior.");
                return;
            }
            
            System.Console.ForegroundColor = colorError;
            System.Console.WriteLine($"\n  ¬øEst√°s seguro de que deseas eliminar al administrador {admin.Nombre}?");
            System.Console.Write("  Esta acci√≥n no se puede deshacer (S/N): ");
            string confirmacion = System.Console.ReadLine();
            
            if (confirmacion.ToUpper() != "S")
            {
                MostrarMensajeExito("Operaci√≥n cancelada.");
                return;
            }
            
            bool resultado = _adminRepo.EliminarAdministrador(adminId);
            
            if (resultado)
            {
                MostrarMensajeExito("Administrador eliminado con √©xito.");
            }
            else
            {
                MostrarMensajeError("Error al eliminar el administrador.");
            }
        }
        
        private void VerPerfilesRegistrados()
        {
            System.Console.Clear();
            MostrarTitulo();
            
            var usuarios = _adminRepo.ObtenerTodosUsuarios();
            
            if (usuarios.Count == 0)
            {
                System.Console.ForegroundColor = colorMensaje;
                System.Console.WriteLine("\n  No hay usuarios registrados.");
            }
            else
            {
                System.Console.ForegroundColor = colorDato;
                System.Console.WriteLine("\n  LISTA DE USUARIOS REGISTRADOS");
                System.Console.WriteLine("\n  ID | Nombre | G√©nero | Edad | Carrera");
                System.Console.WriteLine("  ----------------------------------------");
                
                foreach (var usuario in usuarios)
                {
                    System.Console.ForegroundColor = ConsoleColor.White;
                    System.Console.WriteLine($"  {usuario.Id} | {usuario.Nombre} | {usuario.Genero} | {usuario.Edad} | {usuario.Carrera}");
                }
                
                System.Console.ForegroundColor = colorOpcion;
                System.Console.WriteLine("\n  Opciones:");
                System.Console.WriteLine("  1. Ver detalles de un usuario");
                System.Console.WriteLine("  0. Volver");
                
                System.Console.ForegroundColor = ConsoleColor.White;
                System.Console.Write("\n  Selecciona una opci√≥n: ");
                string opcion = System.Console.ReadLine();
                
                switch (opcion)
                {
                    case "1":
                        VerDetallesUsuario(usuarios);
                        break;
                    case "0":
                        break;
                    default:
                        MostrarMensajeError("Opci√≥n no v√°lida.");
                        break;
                }
            }
            
            MostrarBordeInferior();
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.WriteLine("\n  Presiona cualquier tecla para volver...");
            System.Console.ReadKey();
        }
        
        private void VerDetallesUsuario(List<Usuario> usuarios)
        {
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.Write("\n  Ingresa el ID del usuario: ");
            if (!int.TryParse(System.Console.ReadLine(), out int usuarioId))
            {
                MostrarMensajeError("ID no v√°lido.");
                return;
            }
            
            var usuario = usuarios.Find(u => u.Id == usuarioId);
            
            if (usuario == null)
            {
                MostrarMensajeError("Usuario no encontrado.");
                return;
            }
            
            System.Console.Clear();
            MostrarTitulo();
            
            System.Console.ForegroundColor = colorDato;
            System.Console.WriteLine("\n  DETALLES DEL USUARIO");
            System.Console.WriteLine($"\n  ID: {usuario.Id}");
            System.Console.WriteLine($"  Nombre: {usuario.Nombre}");
            System.Console.WriteLine($"  G√©nero: {usuario.Genero}");
            System.Console.WriteLine($"  Edad: {usuario.Edad}");
            System.Console.WriteLine($"  Carrera: {usuario.Carrera}");
            System.Console.WriteLine($"  Frase de perfil: {usuario.FrasePerfil ?? "No especificada"}");
            System.Console.WriteLine($"  Ciudad ID: {usuario.IdCiudad}");
            
            // Aqu√≠ se podr√≠an mostrar m√°s detalles como interacciones, matches, etc.
            
            MostrarBordeInferior();
            System.Console.ForegroundColor = ConsoleColor.White;
            System.Console.WriteLine("\n  Presiona cualquier tecla para volver...");
            System.Console.ReadKey();
        }
    }
}
